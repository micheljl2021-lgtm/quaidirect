project_id = "topqlhxdflykejrlbuqx"

# Edge Functions Configuration

[functions.generate-fisherman-site-prompt]
verify_jwt = true  # Admin only function

[functions.generate-fisherman-seo-content]
verify_jwt = true  # Admin only function - generates and saves SEO content

[functions.stripe-webhook]
verify_jwt = false  # Webhooks are called by Stripe, not authenticated users

[functions.get-company-info]
verify_jwt = true  # Requires authentication

[functions.create-fisherman-payment]
verify_jwt = true  # Requires authentication

[functions.approve-fisherman-access]
verify_jwt = true  # Admin only function

[functions.generate-fisherman-description]
verify_jwt = true  # Requires authentication

[functions.create-basket-checkout]
verify_jwt = true  # Requires authentication

[functions.create-checkout]
verify_jwt = false  # Allow guest checkout - Origin validation in function

[functions.marine-ai-assistant]
verify_jwt = true  # Requires authentication

[functions.check-sms-quota]
verify_jwt = true  # Requires authentication

[functions.check-subscription]
verify_jwt = true  # Requires authentication

[functions.customer-portal]
verify_jwt = true  # Requires authentication

[functions.process-caisse]
verify_jwt = true  # Requires authentication

[functions.purchase-sms-pack]
verify_jwt = true  # Requires authentication

[functions.send-drop-notification]
verify_jwt = false  # Called by database trigger with anon key

[functions.send-fisherman-message]
verify_jwt = true  # Requires authentication

[functions.send-sms]
verify_jwt = true  # Requires authentication - Twilio SMS sending

[functions.send-reservation-notification]
verify_jwt = false  # Called by database trigger

[functions.send-support-response]
verify_jwt = true  # Requires authentication

[functions.generate-secure-edit-link]
verify_jwt = true  # Admin only - generates secure profile edit link

[functions.validate-secure-token]
verify_jwt = false  # Public endpoint - validates token for profile edit

[functions.submit-secure-profile-edit]
verify_jwt = false  # Public endpoint - submits profile changes via token

[functions.send-billing-portal-link]
verify_jwt = true  # Admin only - sends Stripe billing portal link

[functions.send-premium-welcome-email]
verify_jwt = false  # Called by webhook after payment

[functions.send-fisherman-approved-email]
verify_jwt = true  # Admin only - sends approval email

[functions.send-basket-order-notification]
verify_jwt = false  # Called by webhook after basket order

[functions.send-fisherman-welcome-email]
verify_jwt = false  # Called by webhook after fisherman subscription

[functions.send-trial-ending-reminder]
verify_jwt = false  # Called by webhook 3 days before trial end

[functions.send-payment-confirmation-email]
verify_jwt = false  # Called by webhook after invoice paid

[functions.send-user-welcome-email]
verify_jwt = false  # Called after user signup

[functions.get-public-sale-points]
verify_jwt = true  # Restricted - no longer public, requires authentication

[functions.send-basket-customer-email]
verify_jwt = false  # Called by webhook after basket order - sends confirmation to customer

[functions.send-inquiry-confirmation]
verify_jwt = false  # Public endpoint - sends confirmation to anonymous inquiries

[functions.send-platform-update]
verify_jwt = true  # Admin only - sends platform update emails to fishermen

[functions.webhook-diagnostic]
verify_jwt = false  # Public endpoint for webhook diagnostics

[functions.generate-arrival-description]
verify_jwt = true  # Requires authentication - generates description for arrivals

[functions.enrich-species]
verify_jwt = true  # Requires authentication - enriches species data via AI

[functions.generate-recipe]
verify_jwt = true  # Requires authentication - generates recipes via AI

[functions.sync-regulatory-zones]
verify_jwt = true  # Admin only - syncs regulatory zones from data.gouv.fr

[functions.get-regulatory-zones]
verify_jwt = false  # Public endpoint - returns cached regulatory zones

[functions.send-correction-request]
verify_jwt = true  # Admin only - sends correction request to fisherman

[functions.send-public-message-notification]
verify_jwt = false  # Public endpoint - allows visitors to contact fishermen

[functions.send-message-reply]
verify_jwt = true  # Requires authentication - sends reply emails to visitors

[functions.verify-fisherman-payment]
verify_jwt = true  # Requires authentication - verifies payment status from Stripe
